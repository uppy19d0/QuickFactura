#pragma checksum "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "7e0bd9a2e7f89f40111aaaeca6b943161bfcfc2f"
// <auto-generated/>
#pragma warning disable 1591
namespace Examen_Final.Pages.Factura
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\_Imports.razor"
using Examen_Final;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\_Imports.razor"
using Examen_Final.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\_Imports.razor"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\_Imports.razor"
using BlazorInputFile;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
using Microsoft.AspNetCore.Identity;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
using Examen_Final.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/Factura")]
    public partial class Facturas : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(0);
            __builder.AddAttribute(1, "Authorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((authContext4) => (__builder2) => {
                __builder2.AddMarkupContent(2, @"<div class=""d-flex flex-row-reverse""><button type=""button"" class=""btn btn-success  btn-lg"" data-toggle=""modal"" data-target=""#exampleModalLong""><span class=""oi oi-plus"" aria-hidden=""true""></span> Crear Factura
            </button></div>
        <br><br><br>
        ");
                __builder2.OpenElement(3, "div");
                __builder2.AddAttribute(4, "class", "row bg-light");
                __builder2.OpenElement(5, "table");
                __builder2.AddAttribute(6, "class", "table table-bordered");
                __builder2.AddMarkupContent(7, @"<thead class=""thead-dark""><tr><th>Fecha</th>
                        <th>Status</th>
                        <th>Cliente</th>
                        <th>SubTotal</th>
                        <th>Itbis</th>
                        <th>Total</th>
                        <th>Ver mas Detalle</th>
                        <th>Editar</th></tr></thead>
                ");
                __builder2.OpenElement(8, "tbody");
#nullable restore
#line 38 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                     if (facturas.Where(f => f.UsuarioID == usuario1.Id).ToList().Any())
                    {
                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 40 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                     foreach (var factura in facturas.Where(f => f.UsuarioID == usuario1.Id).ToList())
                        {

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(9, "tr");
                __builder2.OpenElement(10, "td");
                __builder2.AddContent(11, 
#nullable restore
#line 43 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                             factura.Fecha

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
#nullable restore
#line 44 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                         if (factura.Cancelada)
                        {

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(12, "<td>Cancelada</td>");
#nullable restore
#line 47 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                        }
                        else
                        {

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(13, "<td>Valida</td>");
#nullable restore
#line 51 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                        }

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(14, "td");
                __builder2.AddContent(15, 
#nullable restore
#line 54 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                             factura.Cliente.Nombres

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(16, "\r\n                        ");
                __builder2.OpenElement(17, "td");
                __builder2.AddContent(18, 
#nullable restore
#line 55 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                             factura.facturas_detalle.Sum(p => p.producto.Precio * p.Cantidad)

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(19, "\r\n                        ");
                __builder2.OpenElement(20, "td");
                __builder2.AddContent(21, 
#nullable restore
#line 56 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                             factura.facturas_detalle.Sum(p => p.producto.Precio * p.Cantidad * 0.18)

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(22, "\r\n                        ");
                __builder2.OpenElement(23, "td");
                __builder2.AddContent(24, 
#nullable restore
#line 57 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                             factura.facturas_detalle.Sum(p => p.producto.Precio * p.Cantidad + factura.facturas_detalle.Sum(p => p.producto.Precio * p.Cantidad * 0.18))

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(25, "\r\n                        ");
                __builder2.OpenElement(26, "td");
                __builder2.OpenElement(27, "button");
                __builder2.AddAttribute(28, "class", "btn btn-primary");
                __builder2.AddAttribute(29, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 58 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                      (() => Navegar(factura))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddContent(30, "Ver");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(31, "\r\n                        ");
                __builder2.OpenElement(32, "td");
                __builder2.OpenElement(33, "button");
                __builder2.AddAttribute(34, "class", "btn btn-info");
                __builder2.AddAttribute(35, "data-toggle", "modal");
                __builder2.AddAttribute(36, "data-target", "#editexampleModalLong");
                __builder2.AddAttribute(37, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 60 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                                                                           (() => SetFacturaForUpdate(factura))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddContent(38, "Editar");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 65 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 65 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                         
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(39, "<tr><td colspan=\"6\"><strong>No hay factura creado</strong></td></tr>");
#nullable restore
#line 70 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                    }

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(40, "\r\n        ");
                __builder2.OpenElement(41, "div");
                __builder2.AddAttribute(42, "class", "modal fade");
                __builder2.AddAttribute(43, "id", "exampleModalLong");
                __builder2.AddAttribute(44, "tabindex", "-1");
                __builder2.AddAttribute(45, "role", "dialog");
                __builder2.AddAttribute(46, "aria-labelledby", "exampleModalLongTitle");
                __builder2.AddAttribute(47, "aria-hidden", "true");
                __builder2.OpenElement(48, "div");
                __builder2.AddAttribute(49, "class", "modal-dialog");
                __builder2.AddAttribute(50, "role", "document");
                __builder2.OpenElement(51, "div");
                __builder2.AddAttribute(52, "class", "modal-content");
                __builder2.AddMarkupContent(53, @"<div class=""modal-header""><h5 class=""modal-title"" id=""exampleModalLongTitle"">Creación de Factura</h5>
                        <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close""><span aria-hidden=""true"">&times;</span></button></div>
                    ");
                __builder2.OpenElement(54, "div");
                __builder2.AddAttribute(55, "class", "modal-body");
                __builder2.OpenElement(56, "div");
                __builder2.AddAttribute(57, "class", "col-md-10 mx-auto py-4");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(58);
                __builder2.AddAttribute(59, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 87 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                              NewFactura

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(60, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder3) => {
                    __builder3.OpenElement(61, "div");
                    __builder3.AddAttribute(62, "class", "row");
                    __builder3.OpenElement(63, "div");
                    __builder3.AddAttribute(64, "class", "form-group col-md-6");
                    __builder3.AddMarkupContent(65, "<label for>Clientes:</label>\r\n                                        ");
                    __builder3.OpenElement(66, "select");
                    __builder3.AddAttribute(67, "id", "customer");
                    __builder3.AddAttribute(68, "class", "form-control");
                    __builder3.AddAttribute(69, "placeholder", "Cliente");
                    __builder3.AddAttribute(70, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 91 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                                                                 NewFactura.ClienteID

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(71, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => NewFactura.ClienteID = __value, NewFactura.ClienteID));
                    __builder3.SetUpdatesAttributeName("value");
#nullable restore
#line 92 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                             foreach (var cliente in clientes)
                                            {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(72, "option");
                    __builder3.AddAttribute(73, "value", 
#nullable restore
#line 94 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                            cliente.ClienteID

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddContent(74, 
#nullable restore
#line 95 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                 cliente.Nombres

#line default
#line hidden
#nullable disable
                    );
                    __builder3.CloseElement();
#nullable restore
#line 97 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                            }

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(75, "\r\n                                    ");
                    __builder3.OpenElement(76, "div");
                    __builder3.AddAttribute(77, "class", "form-group col-md-3");
                    __builder3.AddMarkupContent(78, "<label for>Fecha de Creacion:</label>\r\n                                        ");
                    __builder3.OpenElement(79, "input");
                    __builder3.AddAttribute(80, "type", "date");
                    __builder3.AddAttribute(81, "disabled", true);
                    __builder3.AddAttribute(82, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 102 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                  NewFactura.Fecha

#line default
#line hidden
#nullable disable
                    , format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
                    __builder3.AddAttribute(83, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => NewFactura.Fecha = __value, NewFactura.Fecha, format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
                    __builder3.SetUpdatesAttributeName("value");
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(84, "\r\n\r\n                                ");
                    __builder3.OpenElement(85, "div");
                    __builder3.AddAttribute(86, "class", "form-group");
                    __builder3.OpenElement(87, "button");
                    __builder3.AddAttribute(88, "type", "button");
                    __builder3.AddAttribute(89, "class", "btn btn-success");
                    __builder3.AddAttribute(90, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 108 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                        () => @NewFactura.facturas_detalle.Add(new FacturaDetalle())

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddMarkupContent(91, "<span class=\"oi oi-plus\" aria-hidden=\"true\"></span> Producto o Servicio\r\n                                    ");
                    __builder3.CloseElement();
                    __builder3.CloseElement();
#nullable restore
#line 122 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                 for (var i = 0; i < @NewFactura.facturas_detalle.Count; i++)
                                {
                                    var indice = i;
                                    var producto = @NewFactura.facturas_detalle[i];
                                

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(92, "h5");
                    __builder3.AddContent(93, "Producto o Servicio ");
                    __builder3.AddContent(94, 
#nullable restore
#line 126 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                          i+1

#line default
#line hidden
#nullable disable
                    );
                    __builder3.CloseElement();
                    __builder3.OpenElement(95, "select");
                    __builder3.AddAttribute(96, "id", "producto");
                    __builder3.AddAttribute(97, "class", "form-control");
                    __builder3.AddAttribute(98, "placeholder", "Productos");
                    __builder3.AddAttribute(99, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 128 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                                                          producto.ProductoID

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(100, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => producto.ProductoID = __value, producto.ProductoID));
                    __builder3.SetUpdatesAttributeName("value");
#nullable restore
#line 129 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                     foreach (var producto1 in productos)
                                        {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(101, "option");
                    __builder3.AddAttribute(102, "value", 
#nullable restore
#line 131 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                    producto1.ProductoID

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddContent(103, 
#nullable restore
#line 132 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                         producto1.Nombre

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddContent(104, " (");
                    __builder3.AddContent(105, 
#nullable restore
#line 132 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                            producto1.Cantidad

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddMarkupContent(106, ")\r\n                                    ");
                    __builder3.CloseElement();
#nullable restore
#line 134 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                        }

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(107, "\r\n                                ");
                    __builder3.OpenElement(108, "div");
                    __builder3.AddAttribute(109, "class", "form-group");
                    __builder3.AddMarkupContent(110, "<label>Cantidad:</label>\r\n                                    ");
                    __builder3.OpenElement(111, "input");
                    __builder3.AddAttribute(112, "class", "form-control");
                    __builder3.AddAttribute(113, "type", "text");
                    __builder3.AddAttribute(114, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 138 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                                         producto.Cantidad

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(115, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => producto.Cantidad = __value, producto.Cantidad));
                    __builder3.SetUpdatesAttributeName("value");
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                    __builder3.OpenElement(116, "button");
                    __builder3.AddAttribute(117, "type", "button");
                    __builder3.AddAttribute(118, "class", "btn btn-danger");
                    __builder3.AddAttribute(119, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 142 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                    () => NewFactura.facturas_detalle.RemoveAt(indice)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddMarkupContent(120, "\r\n                                    Borrar\r\n                                ");
                    __builder3.CloseElement();
#nullable restore
#line 145 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                }

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(121, "div");
                    __builder3.AddAttribute(122, "class", "text-center p-3 mb-3");
                    __builder3.OpenElement(123, "button");
                    __builder3.AddAttribute(124, "class", "btn btn-info");
                    __builder3.AddAttribute(125, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 148 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                           AddNewFactura

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(126, "data-dismiss", "modal");
                    __builder3.AddContent(127, " Agregar ");
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                }
                ));
                __builder2.CloseComponent();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(128, "\r\n\r\n        ");
                __builder2.OpenElement(129, "div");
                __builder2.AddAttribute(130, "class", "modal fade");
                __builder2.AddAttribute(131, "id", "editexampleModalLong");
                __builder2.AddAttribute(132, "tabindex", "-1");
                __builder2.AddAttribute(133, "role", "dialog");
                __builder2.AddAttribute(134, "aria-labelledby", "exampleModalLongTitle");
                __builder2.AddAttribute(135, "aria-hidden", "true");
                __builder2.OpenElement(136, "div");
                __builder2.AddAttribute(137, "class", "modal-dialog");
                __builder2.AddAttribute(138, "role", "document");
                __builder2.OpenElement(139, "div");
                __builder2.AddAttribute(140, "class", "modal-content");
                __builder2.AddMarkupContent(141, @"<div class=""modal-header""><h5 class=""modal-title"" id=""exampleModalLongTitle"">Edicion de Factura</h5>
                        <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close""><span aria-hidden=""true"">&times;</span></button></div>

                    ");
                __builder2.OpenElement(142, "div");
                __builder2.AddAttribute(143, "class", "modal-body");
                __builder2.OpenElement(144, "div");
                __builder2.AddAttribute(145, "class", "col-md-10 mx-auto py-4");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(146);
                __builder2.AddAttribute(147, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 170 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                              FacturaUpdate

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(148, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder3) => {
                    __builder3.OpenElement(149, "label");
                    __builder3.AddAttribute(150, "class", "checkbox-inline");
                    __builder3.OpenElement(151, "input");
                    __builder3.AddAttribute(152, "type", "checkbox");
                    __builder3.AddAttribute(153, "id", "servicio");
                    __builder3.AddAttribute(154, "class", "form-control");
                    __builder3.AddAttribute(155, "checked", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 172 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                                                      FacturaUpdate.Cancelada

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(156, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => FacturaUpdate.Cancelada = __value, FacturaUpdate.Cancelada));
                    __builder3.SetUpdatesAttributeName("checked");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(157, "\r\n                                    Status\r\n");
#nullable restore
#line 174 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                     if(FacturaUpdate.Cancelada){

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(158, "<b>  Cancelada</b>");
#nullable restore
#line 176 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                           }
                                           else{

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(159, "<b> Activada</b>");
#nullable restore
#line 179 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                           }

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(160, "\r\n                                ");
                    __builder3.OpenElement(161, "div");
                    __builder3.AddAttribute(162, "class", "form-group col-md-6");
                    __builder3.AddMarkupContent(163, "<label for>Clientes:</label>\r\n                                    ");
                    __builder3.OpenElement(164, "select");
                    __builder3.AddAttribute(165, "id", "customer");
                    __builder3.AddAttribute(166, "class", "form-control");
                    __builder3.AddAttribute(167, "placeholder", "Cliente");
                    __builder3.AddAttribute(168, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 183 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                                                             FacturaUpdate.ClienteID

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(169, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => FacturaUpdate.ClienteID = __value, FacturaUpdate.ClienteID));
                    __builder3.SetUpdatesAttributeName("value");
#nullable restore
#line 184 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                         foreach (var cliente in clientes)
                                        {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(170, "option");
                    __builder3.AddAttribute(171, "value", 
#nullable restore
#line 186 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                        cliente.ClienteID

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddContent(172, 
#nullable restore
#line 187 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                             cliente.Nombres

#line default
#line hidden
#nullable disable
                    );
                    __builder3.CloseElement();
#nullable restore
#line 189 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                        }

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
                    __builder3.CloseElement();
#nullable restore
#line 193 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                 for (var i = 0; i < @FacturaUpdate.facturas_detalle.Count; i++)
                                {
                                    var indice = i;
                                    var producto = @FacturaUpdate.facturas_detalle[i];

                                

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(173, "h5");
                    __builder3.AddContent(174, "Producto y Servicio ");
                    __builder3.AddContent(175, 
#nullable restore
#line 198 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                          i+1

#line default
#line hidden
#nullable disable
                    );
                    __builder3.CloseElement();
                    __builder3.OpenElement(176, "select");
                    __builder3.AddAttribute(177, "id", "producto");
                    __builder3.AddAttribute(178, "class", "form-control");
                    __builder3.AddAttribute(179, "placeholder", "Productos");
#nullable restore
#line 201 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                     foreach (var producto1 in productos)
                                        {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(180, "option");
                    __builder3.AddAttribute(181, "value", 
#nullable restore
#line 203 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                    producto1.ProductoID

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddContent(182, 
#nullable restore
#line 204 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                         producto1.Nombre

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddContent(183, " (");
                    __builder3.AddContent(184, 
#nullable restore
#line 204 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                            producto1.Cantidad

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddMarkupContent(185, ")\r\n                                    ");
                    __builder3.CloseElement();
#nullable restore
#line 206 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"

                                        }

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(186, "\r\n                                ");
                    __builder3.OpenElement(187, "div");
                    __builder3.AddAttribute(188, "class", "form-group");
                    __builder3.AddMarkupContent(189, "<label>Cantidad:</label>\r\n\r\n                                    ");
                    __builder3.OpenElement(190, "input");
                    __builder3.AddAttribute(191, "class", "form-control");
                    __builder3.AddAttribute(192, "type", "text");
                    __builder3.AddAttribute(193, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 212 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                                         producto.Cantidad

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(194, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => producto.Cantidad = __value, producto.Cantidad));
                    __builder3.SetUpdatesAttributeName("value");
                    __builder3.CloseElement();
                    __builder3.CloseElement();
#nullable restore
#line 214 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                    if (FacturaUpdate.facturas_detalle.Count >= 2)
                                    {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(195, "button");
                    __builder3.AddAttribute(196, "type", "button");
                    __builder3.AddAttribute(197, "class", "btn btn-danger");
                    __builder3.AddAttribute(198, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 217 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                    () => NewFactura.facturas_detalle.RemoveAt(indice)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddMarkupContent(199, "\r\n                                    Borrar\r\n                                ");
                    __builder3.CloseElement();
#nullable restore
#line 220 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                    }
                                    else
                                    {

                                    }
                                }

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(200, "div");
                    __builder3.AddAttribute(201, "class", "text-center p-3 mb-3");
                    __builder3.OpenElement(202, "button");
                    __builder3.AddAttribute(203, "class", "btn btn-info");
                    __builder3.AddAttribute(204, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 229 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
                                                                           UpdateFacturaData

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(205, "data-dismiss", "modal");
                    __builder3.AddContent(206, " Editar Factura ");
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                }
                ));
                __builder2.CloseComponent();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
            }
            ));
            __builder.AddAttribute(207, "NotAuthorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((authContext4) => (__builder2) => {
                __builder2.AddMarkupContent(208, "<center><h1>Lo Siento necesita esta logueado</h1>\r\n            <br><br>\r\n            <p>\r\n                Necesita entrar con tu  usuario para poder visualizar los secreto y poder ver tu factura\r\n            </p></center>");
            }
            ));
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 252 "C:\Users\luis_\OneDrive\Escritorio\Tienda\Examen_Final\Pages\Factura\Facturas.razor"
       
    double total;
    public string name_search;
    public string status_invoices;
    Usuario usuario1;
    List<Factura> facturas = new List<Factura>();
    List<Cliente> clientes = new List<Cliente>();
    List<Producto> productos = new List<Producto>();


    //para formular
    double subtotal;
    double total_factura;

    protected override async Task OnInitializedAsync()
    {
        await GetClaimsPrincipalData();
        await Refresh();
        NewFactura.Fecha = DateTime.Now;
    }
    private async Task GetClaimsPrincipalData()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;

        if (user.Identity.IsAuthenticated)
        {
          name_search=user.Identity.Name;
        }
        else
        {

        }
    }
    private void Navegar(Factura factura)
    {
        NavigationManager.NavigateTo("/Factura/" + factura.FacturaID);
    }

    private async Task Refresh()
    {
        clientes = await service_cliente.GetClientesAsync();
        productos = await service_producto.GetProductoAsync();
        facturas = await service.GetFacturaAsync();
        usuario1 = await service_usuario.getInformation(name_search);
    }

    public Factura NewFactura { get; set; } = new Factura();
    private async Task AddNewFactura()
    {

        NewFactura.UsuarioID = usuario1.Id;
        await service.AddFacturaAsync(NewFactura);
        NewFactura = new Factura();
        await Refresh();
    }
    Factura FacturaUpdate = new Factura();
    private void SetFacturaForUpdate(Factura factura)
    {
        FacturaUpdate = factura;
    }
    private async Task UpdateFacturaData()
    {
        await service.UpdateFacturaAsync(FacturaUpdate);
        await Refresh();
    }



#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AuthenticationStateProvider AuthenticationStateProvider { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IHttpContextAccessor httpContextAccessor { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private UserManager<Usuario> UserManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private SignInManager<Usuario> SignInManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ServiceCliente service_cliente { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ServiceFactura service { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ServiceProducto service_producto { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ServiceUsuario service_usuario { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
    }
}
#pragma warning restore 1591
